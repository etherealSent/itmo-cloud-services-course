Вариант 8
Ваша команда разрабатывает новый Нетфликс. Какие сервисы вы будете использовать?

Я буду использовать сервисы от Amazon - AWS. Для начала необходимо разобраться с видео-контентом.

При потоковой передаче по требованию видеоконтент хранится в Amazon S3. 
Amazon CloudFront используется для доставки контента. AWS Elemental MediaConvert 
для обработки видеофайлов для подготовки контента по требованию к распространению или архивированию. 

Amazon Web Services (AWS) предоставляет два медиа решения для экономически эффективной доставки 
видео по запросу (VOD) контента глобальной аудитории с использованием облака AWS.

Либо Видео по запросу на AWS (Video on Demand on AWS), либо Видео по запросу на 
AWS Foundation (Video on Demand on AWS Foundation).

Для Netflix лучше подойдет VOD on AWS, вместо VOD на AWS Foundation. Более современный подход, 
для масштабируемой архитектуры с миллионами пользователей по всему миру.

Ключевой особенностью является, что качестве альтернативы решение Video on Demand on AWS использует 
AWS Step Functions, который разбивает рабочий процесс на отдельные шаги, что упрощает настройку 
или расширение архитектуры для конкретных потребностей в видео по запросу.

Архитектура 

1. S3-корзина для исходных медиафайлов, которая будет храниться в сервисе Amazon S3 Glacier. Классы хранилища 
Amazon S3 Glacier предназначены специально для архивации данных и обеспечивают максимальную производительность, 
гибкость при извлечении и минимальную стоимость облачного архивного хранилища. 
Важный плюс надежность 11 девяток и неограниченная масштабируемость, а также ускоренное извлечение, 
которое выполняется обычно за 1–5 минут.

2. AWS Step Functions , который создает функции шага приема, обработки и публикации. 
В общем, сервис для визуализации рабочих процессов. В менее желательном варианте, мы бы использовали 
только AWS Lambda Function.

3. MediaConvert для перекодирования видео файлов из исходного формата.
   
4. Лямбда-функции, которые выполняют работу каждого шага и обрабатывают сообщения об ошибках
   
5. Таблица Amazon DynamoDb хранит данные, полученные в ходе рабочего процесса.
Amazon DynamoDB – полностью управляемая бессерверная база данных NoSQL на основе пар «ключ-значение».
DynamoDB предлагает встроенную защиту, непрерывное резервное копирование, автоматическую репликацию
в нескольких регионах, кэширование в памяти и инструменты импорта и экспорта данных.
Отклик менее, чем 1 мс, отлично подойдет для этой задачи.

6. CloudWatch для ведения журнала и правила CloudWatch Events для уведомлений MediaConvert.
CloudWatch - это сервис, который отслеживает приложения, реагирует на изменения производительности,
оптимизирует использование ресурсов и предоставляет аналитическую информацию о рабочем состоянии.
CloudWatch используется для записи логов, связанных с выполнением задач MediaConvert.
Это позволяет отслеживать выполнение задач, анализировать ошибки и обеспечивать прозрачность процесса
обработки видео. CloudWatch Events или Event Bridge используется для настройки уведомлений или триггеров
на основе изменений состояния задач MediaConvert.

7. В связке к шестому пункту добавляется седьмой в виде Amazon SNS для отправки уведомлений о кодировании,
публикации и ошибках. Для Amazon SNS происходит после срабатывания правила Event Bridge.

8. AWS Elemental MediaPackage (опционально) для создания видеопотоков, отформатированных для воспроизведения
на нескольких устройствах с одного видеовхода, и защиты контента от несанкционированного использования
с помощью шифрования контента и управления цифровыми правами. AWS Elemental MediaPackage подготавливает,
защищает и распространяет ваш видеоконтент на широкий спектр подключенных устройств. Сервис может
принимать один видеосигнал от кодера, такого как AWS Elemental MediaLive, сжимать его в несколько
потоковых форматов и автоматически масштабировать выходные данные в зависимости от спроса аудитории.

9. Еще один бакет S3 только уже для хранения целевых медиафайлов.

10. Далее дистрибутив CloudFront для доставки видеоконтента конечным пользователям,
для которого создавалась вся необходимая инфраструктура.

11. Очередь Amazon Simple Queue Service (Amazon SQS) для сбора результатов рабочего процесса.
Amazon SQS позволяет отправлять, хранить и получать сообщения компонентов ПО
в любом масштабе без потери данных и необходимости обеспечивать доступность других сервисов.
 
В 11 пункте задумался насчет того, почему мы не используем DynamoDB, вместо Amazon SQS.
Вот ответ - Amazon SQS — лучший выбор для временного хранения и передачи результатов рабочего 
процесса из-за его масштабируемости, низкой задержки и упрощенной интеграции. DynamoDB 
больше подходит для долговременного хранения и запросов данных, но использование его 
в качестве очереди требует сложной реализации и может быть дороже.

После того, как мы разобрались со стриминговым сервисом. 
Рассмотрим другие сервисы для реализации полноценного продукта.

### Авторизация
Amazon Cognito - Сервис поможет внедрить управление идентификацией и доступом клиентов 
(CIAM, Customer IAM) в веб и мобильные приложения.

### Базы данных для хранения метаданных, информации о пользователях и контенте
Amazon RDS - простая в управлении служба реляционных баз данных, 
оптимизированная с учетом совокупной стоимости владения. Будет использована 
для хранения структурированных данных, таких как информация о пользователях, 
подписках, истории просмотров и т. д.

Amazon DynamoDB - описано выше.
Для хранения неструктурированных или полуструктурированных данных, таких как сессии пользователей, 
статистика о просмотрах и другие данные, требующие быстрого доступа и масштабируемости. 

Amazon ElastiCache - позволяет кэшировать данные и разгружать операции ввода-вывода базы данных, 
чтобы сократить операционные издержки, а также сократить расходы и повысить производительность 
базы данных и приложений.

### Машинное обучение и персонализация
Amazon Personalize - можно обучать модели, учитывающие миллиарды взаимодействий пользователей 
с миллионами позиций, помогает предоставлять рекомендации с низкими задержками на веб-сайте, 
в приложениях, поисковых системах и маркетинговых каналах. В нашем случае этот сервис 
сможет сделать подборку фильмов на основе просмотренных.

Amazon Rekognition - используется для извлечения информации и аналитических данных из 
изображений и видео, с помощью компьютерного зрения (CV). Для создания метаданных для видео, 
которые могут быть использованы для модерации контента или помощи в поиске конкретного 
фильма по описанию в строке поиска.

Amazon Comprehend - для получения ценной информации из текста в документах, заявок в службу 
поддержки клиентов, обзоров продуктов, электронных писем, каналов социальных сетей 
и многого другого. Поможет собирать полезную информацию по рецензиям на фильмы.

### Видео-анализ и мониторинг
AWS X-Ray - помогает выявлять факторы, снижающие производительность, анализирует 
комплекты трассировок с различными условиями для анализа первопричин.

### Оплата и подписки
Клиенты
Amazon API Gateway - управляемый сервис для разработчиков, предназначенный для создания, 
публикации, обслуживания, мониторинга и обеспечения безопасности API в любых масштабах. 

AWS Lambda - бессерверные функции. Для реализации API, которые могут работать с платежными системами, 
такими как Stripe или PayPal, для обработки подписок и транзакций.

Инфраструктура
AWS Billing - представляет собой систему управления платежами, которая помогает пользователям 
отслеживать и оплачивать счета за использование AWS-услуг. Основное внимание в этом инструменте 
уделяется управлению счетами и оплате.

Cost Management - для получение данных о расходах и использовании ресурсов AWS на единой панели, 
экспорта данных и создания информационных панелей для проведения более глубокого анализа

### Гибкость и масштабируемость
Amazon EC2 для compute

Amazon Elastic Kubernetes Service (EKS), в облачной среде Amazon EKS автоматизирует 
управление инфраструктурой кластера Kubernetes. Это необходимо при планировании контейнеров, 
управлении доступностью приложений, динамическом масштабировании ресурсов, оптимизации вычислительной среды, 
хранении кластерных данных и выполнении других критически важных функций.

### Обеспечение безопасности и конфиденциальности данных
AWS Key Management Service (KMS) - используется для шифрования данных в рабочих нагрузках AWS, 
цифровой подписи данных, шифрования данных в приложениях с помощью AWS Encryption SDK, 
а также создания и проверки кодов аутентификации сообщений (MAC). 

AWS WAF (Web Application Firewall) -  можно создавать правила безопасности, которые контролируют 
трафик ботов и блокируют распространенные шаблоны атак, такие как SQL-инъекция или межсайтовый скриптинг (XSS).

AWS Shield - для повышения доступности и скорости отклика приложений с помощью управляемой защиты 
от DDoS-атак. Например для очистки вредоносного трафика, сведение простоя и задержки приложений к минимуму.

### Операционные инструменты и DevOps
AWS CloudFormation - автоматизация, тестирование и развертывание шаблонов инфраструктуры с помощью 
автоматизации непрерывной интеграции и доставки (CI/CD).

Amazon CodeDeploy - автоматизированное развертывание кода для обеспечения бесперебойной работы приложений 
CodePipeline - автоматические конвейеры непрерывной доставки для быстрой и надежной установки обновлений

### Интерфейсы для пользователей и взаимодействие с платформой
Ранее упомянутый Amazon API Gateway

API AWS AppSync GraphQL - позволяют разработчикам получать доступ к необходимым им данным с помощью 
гибкого API, который обеспечивает безопасный доступ, обработку и объединение данных из нескольких источников.

При комбинации этих сервисов, мы получим аналог Netflix. Эти сервисы закрывают все потребности продукта.
